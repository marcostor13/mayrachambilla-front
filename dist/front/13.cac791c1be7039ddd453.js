(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{m9n7:function(e,n,t){"use strict";t.r(n),t.d(n,"EditInvestmentsModule",(function(){return y}));var o=t("ofXK"),i=t("tyNb"),a=t("l7P3"),r=t("nYR2"),b=t("fXoL"),c=t("H+bZ"),l=t("Vaw3"),s=t("L4Wb"),d=t("K+05"),g=t("3Pt+"),m=t("bbor");function u(e,n){1&e&&b.Mb(0,"app-load")}const p=function(e){return{"background-image":e}};function f(e,n){if(1&e){const e=b.Sb();b.Rb(0,"div",32),b.Mb(1,"div",33),b.Rb(2,"button",34),b.Zb("click",(function(){b.pc(e);const t=n.index;return b.bc().deleteImage(t)})),b.zc(3,"Eliminar"),b.Qb(),b.Qb()}if(2&e){const e=n.$implicit;b.Ab(1),b.gc("ngStyle",b.jc(1,p,"url("+e+")"))}}const h=function(){return["/admin/investments"]},R=function(e){return{"text-warning":e}},v=[{path:"",component:(()=>{class e{constructor(e,n,t,o){this.api=e,this.store=n,this.storage=t,this.router=o,this.textImage="Imagen",this.isLoad=!1,this.form={title:"",summary:"",ubication:"",minimumAmount:"",totalInversion:"",duration:"",profitability:"",startAcquisition:"",endAcquisition:"",generalInformation:{globalSupportInvestmentPlatform:"",marketValue:"",acquisitionvalue:"",commissionForSale:"",taxes:""},attractivePoints:{locationAndValueProposition:"",experiencedInvestorLeader:"",administrativeAndLegalManagement:"",propertyTitle:""},projectManager:{name:"",position:"",documentType:"",documentNumber:"",documentImage:""},images:[]},this.images=[],this.formInvalid=!1,this.response="",this.textImageFiles="Seleccione una imagen",this.data$=this.store.pipe(Object(a.g)("data")),this.store.pipe(Object(a.g)("data")).subscribe(e=>{e.id&&(this.id=e.id,this.getDataInvestment(e.id)),!e.id&&window})}ngOnInit(){}handleUpload(e){this.api.c("Handle Upload",e)}getDataInvestment(e){this.api.api({service:"investments/"+e,type:"get"}).subscribe(e=>{this.api.c("getInvestments Res",e),this.form=e.data},e=>{this.api.c("getInvestments Error",e)})}resetForm(){this.form={title:"",summary:"",ubication:"",minimumAmount:"",totalInversion:"",duration:"",profitability:"",startAcquisition:"",endAcquisition:"",generalInformation:{globalSupportInvestmentPlatform:"",marketValue:"",acquisitionvalue:"",commissionForSale:"",taxes:""},attractivePoints:{locationAndValueProposition:"",experiencedInvestorLeader:"",administrativeAndLegalManagement:"",propertyTitle:""},projectManager:{name:"",position:"",documentType:"",documentNumber:"",documentImage:""},images:[]}}saveInformation(){let e;e=this.id?{service:"investments/"+this.id,type:"patch",data:{data:this.form}}:{service:"investments",type:"post",data:{data:this.form}},this.api.api(e).subscribe(e=>{this.api.c("saveInformation Res",e),e.message&&(this.response=e.message),this.id||this.resetForm()},e=>{this.api.c("saveInformation Error",e)})}deleteImage(e){this.images.splice(e,1),this.form.images=this.images}uploadImage(e){this.isLoad=!0;const n=e.target.files[0],t=`imagesproperties/${(new Date).getTime()}_${n.name}`,o=this.storage.ref(t),i=this.storage.upload(t,n);this.uploadPercent=i.percentageChanges(),i.snapshotChanges().pipe(Object(r.a)(()=>{o.getDownloadURL().subscribe(e=>{e&&(this.api.c("URL",e),this.images.push(e),this.form.images=this.images,this.isLoad=!1)})})).subscribe()}uploadDocument(e){this.isLoad=!0;const n=e.target.files[0];this.textImage=n.name;const t=`proyectmanagerdocuments/${(new Date).getTime()}_${n.name}`,o=this.storage.ref(t),i=this.storage.upload(t,n);this.uploadPercent=i.percentageChanges(),i.snapshotChanges().pipe(Object(r.a)(()=>{o.getDownloadURL().subscribe(e=>{e&&(this.form.projectManager={documentImage:e},this.isLoad=!1)})})).subscribe()}}return e.\u0275fac=function(n){return new(n||e)(b.Lb(c.a),b.Lb(a.a),b.Lb(l.a),b.Lb(i.a))},e.\u0275cmp=b.Fb({type:e,selectors:[["app-edit-investments"]],decls:128,vars:35,consts:[[4,"ngIf"],[1,"row","m-0"],[1,"d-none","d-xl-block","menu-container","col-3","bg-color1","p-0","m-0","pt-5"],[1,"container-container","flex-1","bg-color5","p-5"],[1,"row","m-0","justify-content-between","align-items-center"],[1,"btn2",3,"routerLink"],[1,"row","m-0","justify-content-start","align-items-center","mt-5"],[1,"col-12"],["type","text","placeholder","Ingrese el t\xedtulo",1,"col-12",3,"ngModel","ngModelChange"],[1,"col-12","mt-2"],["cols","30","rows","3","placeholder","Ingrese el resumen del proyecto",1,"col-12","pt-2",3,"ngModel","ngModelChange"],["type","text","placeholder","Ingrese la ubicaci\xf3n",1,"col-12",3,"ngModel","ngModelChange"],[1,"upload","cursor"],[1,"btn2","text-center","cursor"],["type","file","accept","image/*",1,"cursor",3,"change"],[1,"col-12","mt-2","row","p-0"],["class","row justify-content-center flex-column align-items-center m-0 ml-3",4,"ngFor","ngForOf"],[1,"col-12","col-xl-3","col-md-6","mt-2"],["type","number","placeholder","PEN",1,"col-12",3,"ngModel","ngModelChange"],["type","text","placeholder","Cantidad o rango de meses",1,"col-12",3,"ngModel","ngModelChange"],["type","number","placeholder","%",1,"col-12",3,"ngModel","ngModelChange"],["type","date","placeholder","%",1,"col-12",3,"ngModel","ngModelChange"],[1,"mt-5","mb-5"],["cols","30","rows","3","placeholder","Ingrese informaci\xf3n",1,"col-12","pt-2",3,"ngModel","ngModelChange"],["type","text","placeholder","Ingrese un nombre",1,"col-12",3,"ngModel","ngModelChange"],["type","text","placeholder","Ingrese el cargo",1,"col-12",3,"ngModel","ngModelChange"],["type","text","placeholder","Ejemplo: DNI",1,"col-12",3,"ngModel","ngModelChange"],["type","number","placeholder","Ingrese nro de documento",1,"col-12",3,"ngModel","ngModelChange"],[1,"col-12","col-xl-3","col-md-6"],[1,"col-12","mt-5"],[1,"btn1",3,"click"],[1,"mt-3",3,"ngClass"],[1,"row","justify-content-center","flex-column","align-items-center","m-0","ml-3"],[1,"image",3,"ngStyle"],[1,"btn1","bg-danger","p-0","pl-3","pr-3","mt-2",3,"click"]],template:function(e,n){1&e&&(b.Mb(0,"app-header"),b.xc(1,u,1,0,"app-load",0),b.Rb(2,"div",1),b.Rb(3,"div",2),b.Mb(4,"app-menu"),b.Qb(),b.Rb(5,"div",3),b.Rb(6,"div",4),b.Rb(7,"h5"),b.zc(8),b.cc(9,"async"),b.Qb(),b.Rb(10,"button",5),b.zc(11,"Regresar"),b.Qb(),b.Qb(),b.Rb(12,"div",6),b.Rb(13,"div",7),b.Rb(14,"label"),b.zc(15,"T\xedtulo"),b.Qb(),b.Rb(16,"input",8),b.Zb("ngModelChange",(function(e){return n.form.title=e})),b.Qb(),b.Qb(),b.Rb(17,"div",9),b.Rb(18,"label"),b.zc(19,"Resumen del proyecto"),b.Qb(),b.Rb(20,"textarea",10),b.Zb("ngModelChange",(function(e){return n.form.summary=e})),b.Qb(),b.Qb(),b.Rb(21,"div",9),b.Rb(22,"label"),b.zc(23,"Ubicaci\xf3n"),b.Qb(),b.Rb(24,"input",11),b.Zb("ngModelChange",(function(e){return n.form.ubication=e})),b.Qb(),b.Qb(),b.Rb(25,"div",9),b.Rb(26,"label"),b.zc(27,"Im\xe1genes"),b.Qb(),b.Rb(28,"div",12),b.Rb(29,"div",13),b.zc(30),b.Qb(),b.Rb(31,"input",14),b.Zb("change",(function(e){return n.uploadImage(e)})),b.Qb(),b.Qb(),b.Qb(),b.Rb(32,"div",15),b.xc(33,f,4,3,"div",16),b.Qb(),b.Rb(34,"div",17),b.Rb(35,"label"),b.zc(36,"Monto m\xednimo"),b.Qb(),b.Rb(37,"input",18),b.Zb("ngModelChange",(function(e){return n.form.minimumAmount=e})),b.Qb(),b.Qb(),b.Rb(38,"div",17),b.Rb(39,"label"),b.zc(40,"Inversi\xf3n Total"),b.Qb(),b.Rb(41,"input",18),b.Zb("ngModelChange",(function(e){return n.form.totalInversion=e})),b.Qb(),b.Qb(),b.Rb(42,"div",17),b.Rb(43,"label"),b.zc(44,"Duraci\xf3n"),b.Qb(),b.Rb(45,"input",19),b.Zb("ngModelChange",(function(e){return n.form.duration=e})),b.Qb(),b.Qb(),b.Rb(46,"div",17),b.Rb(47,"label"),b.zc(48,"Rentabilidad"),b.Qb(),b.Rb(49,"input",20),b.Zb("ngModelChange",(function(e){return n.form.profitability=e})),b.Qb(),b.Qb(),b.Rb(50,"div",17),b.Rb(51,"label"),b.zc(52,"Inicio Recaudaci\xf3n "),b.Qb(),b.Rb(53,"input",21),b.Zb("ngModelChange",(function(e){return n.form.startAcquisition=e})),b.Qb(),b.Qb(),b.Rb(54,"div",17),b.Rb(55,"label"),b.zc(56,"Fin Recaudaci\xf3n"),b.Qb(),b.Rb(57,"input",21),b.Zb("ngModelChange",(function(e){return n.form.endAcquisition=e})),b.Qb(),b.Qb(),b.Rb(58,"div",17),b.Rb(59,"label"),b.zc(60,"Soporte Global Plataforma de inversi\xf3n"),b.Qb(),b.Rb(61,"input",18),b.Zb("ngModelChange",(function(e){return n.form.generalInformation.globalSupportInvestmentPlatform=e})),b.Qb(),b.Qb(),b.Rb(62,"div",17),b.Rb(63,"label"),b.zc(64,"Valor Mercado (Precio de Venta)"),b.Qb(),b.Rb(65,"input",18),b.Zb("ngModelChange",(function(e){return n.form.generalInformation.marketValue=e})),b.Qb(),b.Qb(),b.Rb(66,"div",17),b.Rb(67,"label"),b.zc(68,"Valor de adquisici\xf3n"),b.Qb(),b.Rb(69,"input",18),b.Zb("ngModelChange",(function(e){return n.form.generalInformation.acquisitionvalue=e})),b.Qb(),b.Qb(),b.Rb(70,"div",17),b.Rb(71,"label"),b.zc(72,"Comisi\xf3n por venta"),b.Qb(),b.Rb(73,"input",20),b.Zb("ngModelChange",(function(e){return n.form.generalInformation.commissionForSale=e})),b.Qb(),b.Qb(),b.Rb(74,"div",17),b.Rb(75,"label"),b.zc(76,"Impuestos (-4%)"),b.Qb(),b.Rb(77,"input",20),b.Zb("ngModelChange",(function(e){return n.form.generalInformation.taxes=e})),b.Qb(),b.Qb(),b.Rb(78,"div",7),b.Rb(79,"h5",22),b.zc(80,"Detalles del proyecto"),b.Qb(),b.Qb(),b.Rb(81,"div",7),b.Rb(82,"label"),b.zc(83,"Ubicaci\xf3n y propuesta de valor"),b.Qb(),b.Rb(84,"textarea",23),b.Zb("ngModelChange",(function(e){return n.form.attractivePoints.locationAndValueProposition=e})),b.Qb(),b.Qb(),b.Rb(85,"div",7),b.Rb(86,"label"),b.zc(87,"L\xedder Inversionista con experiencia"),b.Qb(),b.Rb(88,"textarea",23),b.Zb("ngModelChange",(function(e){return n.form.attractivePoints.experiencedInvestorLeader=e})),b.Qb(),b.Qb(),b.Rb(89,"div",7),b.Rb(90,"label"),b.zc(91,"Gesti\xf3n administrativa y legal"),b.Qb(),b.Rb(92,"textarea",23),b.Zb("ngModelChange",(function(e){return n.form.attractivePoints.administrativeAndLegalManagement=e})),b.Qb(),b.Qb(),b.Rb(93,"div",7),b.Rb(94,"label"),b.zc(95,"T\xedtulo de Propiedad"),b.Qb(),b.Rb(96,"textarea",23),b.Zb("ngModelChange",(function(e){return n.form.attractivePoints.propertyTitle=e})),b.Qb(),b.Qb(),b.Rb(97,"div",7),b.Rb(98,"h5",22),b.zc(99,"Responsable del proyecto"),b.Qb(),b.Qb(),b.Rb(100,"div",7),b.Rb(101,"label"),b.zc(102,"Nombres"),b.Qb(),b.Rb(103,"input",24),b.Zb("ngModelChange",(function(e){return n.form.projectManager.name=e})),b.Qb(),b.Qb(),b.Rb(104,"div",17),b.Rb(105,"label"),b.zc(106,"Cargo"),b.Qb(),b.Rb(107,"input",25),b.Zb("ngModelChange",(function(e){return n.form.projectManager.position=e})),b.Qb(),b.Qb(),b.Rb(108,"div",17),b.Rb(109,"label"),b.zc(110,"Tipo de documento"),b.Qb(),b.Rb(111,"input",26),b.Zb("ngModelChange",(function(e){return n.form.projectManager.documentType=e})),b.Qb(),b.Qb(),b.Rb(112,"div",17),b.Rb(113,"label"),b.zc(114,"Nro documento"),b.Qb(),b.Rb(115,"input",27),b.Zb("ngModelChange",(function(e){return n.form.projectManager.documentNumber=e})),b.Qb(),b.Qb(),b.Rb(116,"div",28),b.Rb(117,"label"),b.zc(118,"Imagen de documento"),b.Qb(),b.Rb(119,"div",12),b.Rb(120,"div",13),b.zc(121),b.Qb(),b.Rb(122,"input",14),b.Zb("change",(function(e){return n.uploadDocument(e)})),b.Qb(),b.Qb(),b.Qb(),b.Rb(123,"div",29),b.Rb(124,"button",30),b.Zb("click",(function(){return n.saveInformation()})),b.zc(125,"Guardar informaci\xf3n"),b.Qb(),b.Rb(126,"div",31),b.zc(127),b.Qb(),b.Qb(),b.Qb(),b.Qb(),b.Qb()),2&e&&(b.Ab(1),b.gc("ngIf",n.isLoad),b.Ab(7),b.Bc(" ",b.dc(9,30,n.data$).id?"Editar Inversiones":"Crear Inversiones",""),b.Ab(2),b.gc("routerLink",b.ic(32,h)),b.Ab(6),b.gc("ngModel",n.form.title),b.Ab(4),b.gc("ngModel",n.form.summary),b.Ab(4),b.gc("ngModel",n.form.ubication),b.Ab(6),b.Ac(n.textImageFiles),b.Ab(3),b.gc("ngForOf",n.form.images),b.Ab(4),b.gc("ngModel",n.form.minimumAmount),b.Ab(4),b.gc("ngModel",n.form.totalInversion),b.Ab(4),b.gc("ngModel",n.form.duration),b.Ab(4),b.gc("ngModel",n.form.profitability),b.Ab(4),b.gc("ngModel",n.form.startAcquisition),b.Ab(4),b.gc("ngModel",n.form.endAcquisition),b.Ab(4),b.gc("ngModel",n.form.generalInformation.globalSupportInvestmentPlatform),b.Ab(4),b.gc("ngModel",n.form.generalInformation.marketValue),b.Ab(4),b.gc("ngModel",n.form.generalInformation.acquisitionvalue),b.Ab(4),b.gc("ngModel",n.form.generalInformation.commissionForSale),b.Ab(4),b.gc("ngModel",n.form.generalInformation.taxes),b.Ab(7),b.gc("ngModel",n.form.attractivePoints.locationAndValueProposition),b.Ab(4),b.gc("ngModel",n.form.attractivePoints.experiencedInvestorLeader),b.Ab(4),b.gc("ngModel",n.form.attractivePoints.administrativeAndLegalManagement),b.Ab(4),b.gc("ngModel",n.form.attractivePoints.propertyTitle),b.Ab(7),b.gc("ngModel",n.form.projectManager.name),b.Ab(4),b.gc("ngModel",n.form.projectManager.position),b.Ab(4),b.gc("ngModel",n.form.projectManager.documentType),b.Ab(4),b.gc("ngModel",n.form.projectManager.documentNumber),b.Ab(6),b.Ac(n.textImage),b.Ab(5),b.gc("ngClass",b.jc(33,R,n.formInvalid)),b.Ab(1),b.Ac(n.response))},directives:[s.a,o.k,d.a,i.b,g.a,g.c,g.d,o.j,g.e,o.i,m.a,o.l],pipes:[o.b],styles:["input[_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{border:1px solid #0d142e;border-radius:10px;min-height:40px}label[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;min-height:50px;align-items:flex-end}.image[_ngcontent-%COMP%]{background-repeat:no-repeat;background-size:cover;min-width:100px;max-width:100px;min-height:100px}"]}),e})()}];let M=(()=>{class e{}return e.\u0275mod=b.Jb({type:e}),e.\u0275inj=b.Ib({factory:function(n){return new(n||e)},imports:[[i.d.forChild(v)],i.d]}),e})();var Q=t("ZTpL"),I=t("AiV+"),A=t("GANc");let y=(()=>{class e{}return e.\u0275mod=b.Jb({type:e}),e.\u0275inj=b.Ib({factory:function(n){return new(n||e)},imports:[[o.c,M,Q.a,I.a,g.b,A.a]]}),e})()}}]);