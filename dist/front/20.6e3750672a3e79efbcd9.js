(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{"3Izl":function(t,e,i){"use strict";i.r(e),i.d(e,"DetailModule",(function(){return E}));var a=i("ofXK"),n=i("tyNb"),o=i("l7P3"),c=i("5cVi"),b=i("pLZG"),r=i("eIep"),s=i("fXoL"),l=i("H+bZ"),d=i("6Qg2"),u=i("dEAy"),p=i("UbJi"),m=i("L4Wb"),v=i("K+05"),f=i("LwO5"),g=i("7zfz"),h=i("bbor"),R=i("3Pt+");function Q(t,e){}const z=function(t){return{"background-image":t}};function A(t,e){if(1&t&&(s.Rb(0,"div",32),s.Mb(1,"div",33),s.Qb()),2&t){const t=e.$implicit;s.Ab(1),s.gc("ngStyle",s.jc(1,z,"url("+t+")"))}}function I(t,e){1&t&&s.Mb(0,"app-load")}function x(t,e){if(1&t&&s.zc(0),2&t){const t=s.bc();s.Bc(" ",1==t.step?"\xbfCu\xe1nto desea invertir?":"Gracias"," ")}}function y(t,e){if(1&t){const t=s.Sb();s.Rb(0,"div"),s.Rb(1,"label",34),s.zc(2,"S/ "),s.Qb(),s.Rb(3,"input",35),s.Zb("ngModelChange",(function(e){return s.pc(t),s.bc(2).amount=e})),s.Qb(),s.Qb()}if(2&t){const t=s.bc(2);s.Ab(3),s.gc("ngModel",t.amount)}}function S(t,e){1&t&&(s.Rb(0,"div"),s.Rb(1,"p",36),s.zc(2,"Su solicitud fue recibida, un asesor financiero se comunicar\xe1 con Ud. a la brevedad, para proceder con su inversi\xf3n."),s.Qb(),s.Qb())}function C(t,e){if(1&t&&(s.xc(0,y,4,1,"div",27),s.xc(1,S,3,0,"div",27)),2&t){const t=s.bc();s.gc("ngIf",1==t.step),s.Ab(1),s.gc("ngIf",2==t.step)}}const w=function(t){return{"text-danger":t}};function L(t,e){if(1&t){const t=s.Sb();s.Rb(0,"div"),s.Rb(1,"button",37),s.Zb("click",(function(){return s.pc(t),s.bc(2).handleCancel()})),s.zc(2,"Cancelar"),s.Qb(),s.Rb(3,"button",38),s.Zb("click",(function(){return s.pc(t),s.bc(2).handleOk()})),s.zc(4,"Invertir"),s.Qb(),s.Rb(5,"div",39),s.Rb(6,"span",40),s.zc(7),s.Qb(),s.Qb(),s.Qb()}if(2&t){const t=s.bc(2);s.Ab(3),s.gc("nzLoading",t.isConfirmLoading),s.Ab(3),s.gc("ngClass",s.jc(3,w,t.invalid)),s.Ab(1),s.Ac(t.response)}}function M(t,e){if(1&t){const t=s.Sb();s.Rb(0,"div"),s.Rb(1,"button",37),s.Zb("click",(function(){return s.pc(t),s.bc(2).handleCancel()})),s.zc(2,"Aceptar"),s.Qb(),s.Qb()}}function P(t,e){if(1&t&&(s.xc(0,L,8,5,"div",27),s.xc(1,M,3,0,"div",27)),2&t){const t=s.bc();s.gc("ngIf",1==t.step),s.Ab(1),s.gc("ngIf",2==t.step)}}const O=function(t){return{"min-width":t}},k=[{path:"",component:(()=>{class t{constructor(t,e,i,a,n,c){this.api=t,this.router=e,this.userService=i,this.store=a,this.modal=n,this.afAuth=c,this.isLoad=!1,this.data={},this.isVisible=!1,this.step=1,this.response="",this.invalid=!1;let b=0;this.store.pipe(Object(o.g)("data")).subscribe(t=>{0==b&&(this.api.c("DATA",t),this.data=t,t.id||this.router.navigate(["/user/search-investments"]),b++)}),this.validateSession()}ngOnInit(){}validateSession(){this.afAuth.user.pipe(Object(b.a)(t=>!!t),Object(r.a)(t=>this.userService.user$(t.uid))).subscribe(t=>{this.user=t,this.api.c("USER",t)})}setData(t){this.store.dispatch(c.a({data:t}))}getPercent(t){return 20}getInvertido(t){return 20*t/100}invertir(){this.getProfile()}showConfirm(){this.modal.confirm({nzTitle:"<i>Debe completar su informaci\xf3n antes de invertir</i>",nzContent:"",nzOkText:"Ir a datos de usuario",nzOnOk:()=>this.router.navigate(["/user/profile"])})}showModal(){this.isVisible=!0}handleOk(){this.saveRequest()}handleCancel(){this.isVisible=!1}getProfile(){this.isLoad=!0,this.api.api({service:"general/profiles/uid/"+this.user.uid,type:"get"}).subscribe(t=>{this.api.c("getProfile RES",t),t.length>0?this.showModal():this.showConfirm(),this.isLoad=!1},t=>{this.api.c("Error getProfile",t),this.isLoad=!1})}saveRequest(){this.isLoad=!0,this.response="",this.invalid=!1,this.api.api({service:"investments-request",type:"post",data:{uid:this.user.uid,investmentid:this.data.id,amount:this.amount}}).subscribe(t=>{this.api.c("Save profile RES",t),this.isLoad=!1,this.sendMail(this.user.displayName,this.data.data.title),"OK"==t.message?this.step=2:(this.invalid=!0,this.response=t.message)},t=>{this.api.c("Error Save Profile",t),this.isLoad=!1})}sendMail(t,e){this.api.api({service:"nodemailer",type:"post",data:{dest:"marcostor13@mail.com",fromname:"Mayra Chambilla",from:"marcostor13@mail.com",subject:"Nueva Solicitud de Inversi\xf3n",type:"1",data:{username:t,title:e}}}).subscribe(t=>{this.api.c("Save profile RES",t),"OK"==t.message?this.step=2:this.response=t.message},t=>{this.api.c("Error Save Profile",t),this.isLoad=!1})}}return t.\u0275fac=function(e){return new(e||t)(s.Lb(l.a),s.Lb(n.a),s.Lb(d.a),s.Lb(o.a),s.Lb(u.c),s.Lb(p.a))},t.\u0275cmp=s.Fb({type:t,selectors:[["app-detail"]],decls:119,vars:31,consts:[[1,"row","m-0"],[1,"d-none","d-xl-block","menu-container","col-3","bg-color1","p-0","m-0","pt-5"],[1,"container-container","flex-1","bg-color5","p-5"],[1,"row","m-0","justify-content-between","align-items-center"],[1,"btn2","pl-5","pr-5","f-16","font-500",3,"click"],[1,"row","m-0","justify-content-center","align-items-start","mt-5","col-12","p-0"],[1,"col-12","col-xl-8","mt-3"],[3,"value","numVisible","numScroll","circular","autoplayInterval"],["pTemplate","header"],["pTemplate","item"],[1,"col-12","col-xl-4","pl-0","pl-xl-3","mt-3"],[1,"col-12","bg-color1","radius","p-4"],[1,"row","align-items-center","justify-content-between","mt-2","bg-white","rounded-pill","pl-3","pr-3"],[1,"titleLabel","m-0","p-0","mr-3","f-14","text-color1","font-500"],[1,"text-color2","font-700","f-14"],[1,"row","align-items-center","mt-3","bg-white","rounded-pill"],[1,"row","align-items-center","bg-color2","rounded-pill","pl-3","m-0",3,"ngStyle"],[1,"titleLabel","m-0","p-0","mr-3","f-14","text-color1","font-700"],[1,"row","align-items-center","mt-2","pl-3"],[1,"titleLabel","m-0","p-0","mr-3","f-14","text-color2","font-500"],[1,"text-white","font-500","f-14"],[1,"col-12","col-xl-6","p-4","mt-2","p-3"],[1,"card-information","row","align-items-center","radius","shadow","p-4"],[1,"mb-3","col-12","p-0"],[1,"labelInformation","m-0","p-0","mr-3","text-color2","font-500"],[1,"text-color1"],[3,"href"],[4,"ngIf"],[3,"nzVisible","nzTitle","nzContent","nzFooter","nzVisibleChange","nzOnCancel"],["modalTitle",""],["modalContent",""],["modalFooter",""],[1,"product-item"],[1,"image",3,"ngStyle"],[1,"text-color1","font-500","f-14"],["type","number",1,"ml-2","f-14",3,"ngModel","ngModelChange"],[1,"text-color1","f-12"],[1,"btn3",3,"click"],[1,"btn1","ml-3",3,"nzLoading","click"],[1,"col-12","justify-content-center"],[3,"ngClass"]],template:function(t,e){if(1&t&&(s.Mb(0,"app-header"),s.Rb(1,"div",0),s.Rb(2,"div",1),s.Mb(3,"app-menu"),s.Qb(),s.Rb(4,"div",2),s.Rb(5,"div",3),s.Rb(6,"h5"),s.zc(7,"Informaci\xf3n de inversi\xf3n"),s.Qb(),s.Rb(8,"button",4),s.Zb("click",(function(){return e.invertir()})),s.zc(9,"INVERTIR"),s.Qb(),s.Qb(),s.Rb(10,"div",5),s.Rb(11,"div",6),s.Rb(12,"p-carousel",7),s.xc(13,Q,0,0,"ng-template",8),s.xc(14,A,2,3,"ng-template",9),s.Qb(),s.Qb(),s.Rb(15,"div",10),s.Rb(16,"h2"),s.zc(17),s.Qb(),s.Rb(18,"p"),s.zc(19),s.Qb(),s.Rb(20,"div",11),s.Rb(21,"div",12),s.Rb(22,"label",13),s.zc(23,"Invesi\xf3n Total"),s.Qb(),s.Rb(24,"div",14),s.zc(25),s.Qb(),s.Qb(),s.Rb(26,"div",15),s.Rb(27,"div",16),s.Rb(28,"label",17),s.zc(29),s.Qb(),s.Qb(),s.Qb(),s.Rb(30,"div",18),s.Rb(31,"label",19),s.zc(32,"Total invertido"),s.Qb(),s.Rb(33,"div",20),s.zc(34),s.Qb(),s.Qb(),s.Rb(35,"div",18),s.Rb(36,"label",19),s.zc(37,"Duraci\xf3n"),s.Qb(),s.Rb(38,"div",20),s.zc(39),s.Qb(),s.Qb(),s.Rb(40,"div",18),s.Rb(41,"label",19),s.zc(42,"Plazo"),s.Qb(),s.Rb(43,"div",20),s.zc(44),s.Qb(),s.Qb(),s.Rb(45,"div",18),s.Rb(46,"label",19),s.zc(47,"Rentabilidad"),s.Qb(),s.Rb(48,"div",20),s.zc(49),s.Qb(),s.Qb(),s.Qb(),s.Qb(),s.Qb(),s.Rb(50,"div",5),s.Rb(51,"div",21),s.Rb(52,"div",22),s.Rb(53,"h5",23),s.zc(54,"Informaci\xf3n del proyecto"),s.Qb(),s.Rb(55,"div",18),s.Rb(56,"label",24),s.zc(57,"Valor Mercado (Precio de Venta)"),s.Qb(),s.Rb(58,"div",25),s.zc(59),s.Qb(),s.Qb(),s.Rb(60,"div",18),s.Rb(61,"label",24),s.zc(62,"Soporte Global Plataforma de inversi\xf3n"),s.Qb(),s.Rb(63,"div",25),s.zc(64),s.Qb(),s.Qb(),s.Rb(65,"div",18),s.Rb(66,"label",24),s.zc(67,"Comisi\xf3n por venta"),s.Qb(),s.Rb(68,"div",25),s.zc(69),s.Qb(),s.Qb(),s.Rb(70,"div",18),s.Rb(71,"label",24),s.zc(72,"Valor de adquisici\xf3n"),s.Qb(),s.Rb(73,"div",25),s.zc(74),s.Qb(),s.Qb(),s.Rb(75,"div",18),s.Rb(76,"label",24),s.zc(77,"Impuestos"),s.Qb(),s.Rb(78,"div",25),s.zc(79),s.Qb(),s.Qb(),s.Qb(),s.Qb(),s.Rb(80,"div",21),s.Rb(81,"div",22),s.Rb(82,"h5",23),s.zc(83,"Lider de proyecto"),s.Qb(),s.Rb(84,"div",18),s.Rb(85,"label",24),s.zc(86,"Nombre"),s.Qb(),s.Rb(87,"div",25),s.zc(88),s.Qb(),s.Qb(),s.Rb(89,"div",18),s.Rb(90,"label",24),s.zc(91,"Cargo"),s.Qb(),s.Rb(92,"div",25),s.zc(93),s.Qb(),s.Qb(),s.Rb(94,"div",18),s.Rb(95,"label",24),s.zc(96,"Tipo de documento"),s.Qb(),s.Rb(97,"div",25),s.zc(98),s.Qb(),s.Qb(),s.Rb(99,"div",18),s.Rb(100,"label",24),s.zc(101,"N\xfamero de documento"),s.Qb(),s.Rb(102,"div",25),s.zc(103),s.Qb(),s.Qb(),s.Rb(104,"div",18),s.Rb(105,"label",24),s.zc(106,"Imagen del documento"),s.Qb(),s.Rb(107,"div",25),s.zc(108,": "),s.Rb(109,"a",26),s.zc(110,"Clic para descargar"),s.Qb(),s.Qb(),s.Qb(),s.Qb(),s.Qb(),s.Qb(),s.Qb(),s.Qb(),s.xc(111,I,1,0,"app-load",27),s.Rb(112,"nz-modal",28),s.Zb("nzVisibleChange",(function(t){return e.isVisible=t}))("nzOnCancel",(function(){return e.handleCancel()})),s.xc(113,x,1,1,"ng-template",null,29,s.yc),s.xc(115,C,2,2,"ng-template",null,30,s.yc),s.xc(117,P,2,2,"ng-template",null,31,s.yc),s.Qb()),2&t){const t=s.nc(114),i=s.nc(116),a=s.nc(118);s.Ab(12),s.gc("value",e.data.data.images)("numVisible",1)("numScroll",1)("circular",!0)("autoplayInterval",3e3),s.Ab(5),s.Ac(e.data.data.title),s.Ab(2),s.Ac(e.data.data.summary),s.Ab(6),s.Bc("S/ ",e.data.data.totalInversion,""),s.Ab(2),s.gc("ngStyle",s.jc(29,O,e.getPercent(e.data.data.totalInversion)+"%")),s.Ab(2),s.Bc("",e.getPercent(e.data.data.totalInversion),"%"),s.Ab(5),s.Bc("S/ ",e.getInvertido(e.data.data.totalInversion),""),s.Ab(5),s.Bc("",e.data.data.duration," meses"),s.Ab(5),s.Ac(e.data.data.endAcquisition),s.Ab(5),s.Bc("",e.data.data.profitability,"%"),s.Ab(10),s.Bc(": S/",e.data.data.generalInformation.marketValue,""),s.Ab(5),s.Bc(": S/",e.data.data.generalInformation.globalSupportInvestmentPlatform,""),s.Ab(5),s.Bc(": S/",e.data.data.generalInformation.commissionForSale,""),s.Ab(5),s.Bc(": S/",e.data.data.generalInformation.acquisitionvalue,""),s.Ab(5),s.Bc(": ",e.data.data.generalInformation.taxes,"%"),s.Ab(9),s.Bc(": ",e.data.data.projectManager.name,""),s.Ab(5),s.Bc(": ",e.data.data.projectManager.position,""),s.Ab(5),s.Bc(": ",e.data.data.projectManager.documentType,""),s.Ab(5),s.Bc(": ",e.data.data.projectManager.documentNumber,""),s.Ab(6),s.hc("href",e.data.data.projectManager.documentImage,s.rc),s.Ab(2),s.gc("ngIf",e.isLoad),s.Ab(1),s.gc("nzVisible",e.isVisible)("nzTitle",t)("nzContent",i)("nzFooter",a)}},directives:[m.a,v.a,f.a,g.d,a.l,a.k,u.a,h.a,R.e,R.a,R.c,R.d,a.i],styles:[".image[_ngcontent-%COMP%]{background-repeat:no-repeat;background-size:cover;min-width:100%;min-height:500px}.image[_ngcontent-%COMP%], .radius[_ngcontent-%COMP%]{border-radius:20px}.labelInformation[_ngcontent-%COMP%]{min-width:300px}input[_ngcontent-%COMP%]{border-radius:8px;border:3px solid #0d142e;min-height:40px}.card-information[_ngcontent-%COMP%]{min-height:300px}"]}),t})()}];let j=(()=>{class t{}return t.\u0275mod=s.Jb({type:t}),t.\u0275inj=s.Ib({factory:function(e){return new(e||t)},imports:[[n.d.forChild(k)],n.d]}),t})();var V=i("ZTpL"),B=i("AiV+"),T=i("GANc");let E=(()=>{class t{}return t.\u0275mod=s.Jb({type:t}),t.\u0275inj=s.Ib({factory:function(e){return new(e||t)},imports:[[a.c,j,V.a,B.a,R.b,T.a,f.b,u.b]]}),t})()}}]);